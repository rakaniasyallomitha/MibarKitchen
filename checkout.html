<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keranjang Belanja - Mibar Kitchen</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container nav-container">
            <div class="nav-logo">
                <img src="images/logo.png" alt="Mibar Kitchen Logo" class="logo-img">
                <span class="brand-name">Mibar Kitchen</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Beranda</a></li>
                <li><a href="index.html#products">Produk</a></li>
                <li><a href="index.html#about">Tentang</a></li>
                <li><a href="checkout.html" class="cart-link active">
                    <span class="cart-icon">üõí</span>
                    <span class="cart-count">0</span>
                </a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Checkout Section -->
    <section class="checkout-section">
        <div class="container">
            <h1 class="page-title">Keranjang Belanja</h1>
            
            <!-- Cart Items -->
            <div class="checkout-container">
                <div class="cart-area">
                    <div id="cartItems" class="cart-items">
                        <!-- Cart items will be inserted here by JavaScript -->
                    </div>
                    <div id="emptyCart" class="empty-cart">
                        <div class="empty-cart-icon">üõí</div>
                        <h3>Keranjang Belanja Kosong</h3>
                        <p>Belum ada produk yang ditambahkan ke keranjang</p>
                        <a href="index.html#products" class="btn btn-primary">Belanja Sekarang</a>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="order-summary" id="orderSummary">
                    <h2>Ringkasan Pesanan</h2>
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span id="subtotal">Rp0</span>
                    </div>
                    <div class="summary-row">
                        <span>Biaya Pengiriman</span>
                        <span id="shippingCost">Gratis</span>
                    </div>
                    <div class="summary-divider"></div>
                    <div class="summary-row total">
                        <span>Total</span>
                        <span id="totalPrice">Rp0</span>
                    </div>
                    <button class="btn btn-primary btn-checkout" id="proceedCheckout">Lanjut ke Pembayaran</button>
                </div>
            </div>

            <!-- Checkout Form -->
            <div class="checkout-form" id="checkoutForm" style="display: none;">
                <h2>Informasi Pengiriman</h2>
                <form id="orderForm">
                    <div class="form-group">
                        <label for="customerName">Nama Lengkap <span class="required">*</span></label>
                        <input type="text" id="customerName" name="customerName" required>
                    </div>
                    <div class="form-group">
                        <label for="customerPhone">Nomor WhatsApp <span class="required">*</span></label>
                        <input type="tel" id="customerPhone" name="customerPhone" placeholder="08xxxxxxxxxx" required>
                    </div>
                    <div class="form-group">
                        <label for="customerAddress">Alamat Lengkap <span class="required">*</span></label>
                        <textarea id="customerAddress" name="customerAddress" rows="3" required></textarea>
                        <small class="form-hint">* COD hanya tersedia untuk area jangkauan tertentu</small>
                    </div>
                    <div class="form-group">
                        <label for="orderNotes">Catatan Pesanan (Opsional)</label>
                        <textarea id="orderNotes" name="orderNotes" rows="2" placeholder="Contoh: Kirim pagi hari"></textarea>
                    </div>

                    <h3>Metode Pembayaran</h3>
                    <div class="payment-methods">
                        <label class="payment-option">
                            <input type="radio" name="paymentMethod" value="dana" required>
                            <div class="payment-card">
                                <span class="payment-icon">üí≥</span>
                                <div>
                                    <strong>Transfer DANA</strong>
                                    <p>Nomor akan muncul setelah konfirmasi</p>
                                </div>
                            </div>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="paymentMethod" value="mandiri" required>
                            <div class="payment-card">
                                <span class="payment-icon">üè¶</span>
                                <div>
                                    <strong>Transfer MANDIRI</strong>
                                    <p>Nomor akan muncul setelah konfirmasi</p>
                                </div>
                            </div>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="paymentMethod" value="cod" required>
                            <div class="payment-card">
                                <span class="payment-icon">üíµ</span>
                                <div>
                                    <strong>COD (Cash on Delivery)</strong>
                                    <p>Bayar saat produk sampai</p>
                                </div>
                            </div>
                        </label>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="backToCart">Kembali</button>
                        <button type="submit" class="btn btn-primary">Konfirmasi Pesanan</button>
                    </div>
                </form>
            </div>

            <!-- Order Confirmation -->
            <div class="order-confirmation" id="orderConfirmation" style="display: none;">
                <div class="confirmation-icon">‚úÖ</div>
                <h2>Pesanan Berhasil Dikonfirmasi!</h2>
                <div class="order-code">
                    <p>Kode Pesanan Anda:</p>
                    <h3 id="confirmationOrderCode">MBK-XXXXXX</h3>
                </div>
                <div class="auto-confirmation-notice" style="background: #e8f5e9; padding: 20px; border-radius: 12px; margin: 20px 0; border-left: 4px solid #4caf50;">
                    <h4 style="color: #2e7d32; margin-bottom: 10px;">‚úÖ Pesanan Otomatis Dikonfirmasi</h4>
                    <p style="color: #1b5e20; margin: 0;">
                     Pesanan Anda telah tercatat di sistem kami. 
                     Tim kami akan segera memproses pesanan dan menghubungi Anda untuk konfirmasi pengiriman.
                    </p>
                </div>
                
                <div class="payment-details" id="paymentDetails">
                    <!-- Payment details will be inserted here -->
                </div>

                <div class="order-summary-confirm">
                    <h3>Ringkasan Pesanan</h3>
                    <div id="confirmationItems"></div>
                    <div class="summary-divider"></div>
                    <div class="summary-row total">
                        <span>Total Pembayaran</span>
                        <span id="confirmationTotal">Rp0</span>
                    </div>
                </div>

                <div class="confirmation-actions">
                 <a href="index.html" class="btn btn-primary">Kembali ke Beranda</a>
                    <button class="btn btn-secondary" onclick="window.print()">Cetak Pesanan</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer-container">
            <div class="footer-info">
                <h3>Mibar Kitchen</h3>
                <p>Hidangan Sehat dari Dapur Cinta</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Mibar Kitchen. All rights reserved.</p>
            </div>
        </div>
    </footer>

   
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
   <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
   <script src="firebase.js"></script>
    <script src="script.js"></script>
</body>
</html>